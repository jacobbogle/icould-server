<!DOCTYPE html>
<html>
<head>
    <title>iCloud Audio Server</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .tabs { display: flex; border-bottom: 1px solid #ccc; }
        .tab { padding: 10px 20px; cursor: pointer; background: #f1f1f1; border: 1px solid #ccc; border-bottom: none; }
        .tab.active { background: white; border-bottom: 1px solid white; }
        .tab-content { display: none; padding: 20px; border: 1px solid #ccc; border-top: none; }
        .tab-content.active { display: block; }
    </style>
</head>
<body>
    <h1>iCloud Audio Server - {{ directory or "root" }}</h1>
    
    <div class="tabs">
        <div class="tab active" onclick="showTab('files')">Audio Files</div>
        <div class="tab" onclick="showTab('sync')">Sync</div>
    </div>
    
    <div id="files" class="tab-content active">
        {% include 'tabs/_files_tab.html' %}
    </div>
    
    <div id="sync" class="tab-content">
        {% include 'tabs/_sync_tab.html' %}
    </div>
    
    <br><a href="/logout">Logout</a>
    
    <script>
        function showTab(tabId) {
            const tabs = document.querySelectorAll('.tab');
            const contents = document.querySelectorAll('.tab-content');
            tabs.forEach(tab => tab.classList.remove('active'));
            contents.forEach(content => content.classList.remove('active'));
            document.querySelector(`.tab[onclick="showTab('${tabId}')"]`).classList.add('active');
            document.getElementById(tabId).classList.add('active');
        }
    </script>
</body>
</html>